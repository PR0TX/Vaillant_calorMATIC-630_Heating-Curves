# calorMATIC 630 · Heating Curves

Інтерактивний вебзастосунок і настільна утиліта для моделювання опалювальних кривих контролера Vaillant calorMATIC 630. Інструмент допомагає підібрати оптимальний нахил кривої, верхні та нижні межі температури подачі й проаналізувати роботу системи за різних зовнішніх умов.

## Основні можливості
- реалістична апроксимація офіційних кривих Vaillant у діапазоні нахилів 0.2–4.0;
- динамічний графік на Canvas (веб) та Matplotlib (десктоп) із підсвіткою поточного стану;
- контроль температур приміщення, вулиці, Tmin/Tmax і нахилу у режимі реального часу;
- перемикачі для відображення всієї сітки кривих та довідкових ліній 18/20/22 °C;
- експорт графіка у PNG та можливість поділитися налаштованим станом через URL;
- адаптивний інтерфейс, що коректно працює як на десктопі, так і на планшетах.

## Технологічний стек
- Веб: HTML5, CSS (адаптивна сітка, кастомні слайдери), Vanilla JS, Canvas API, ResizeObserver.
- Настільна версія: Python 3.11+, Tkinter, NumPy, Matplotlib.
- Автодеплой: GitHub Actions (`.github/workflows/pages.yml`) → GitHub Pages (директорія `app/`).

## Як запустити

### Веб-версія
#### Локально
```bash
python run_server.py
```
Далі відкрийте `http://127.0.0.1:8000/app/` у браузері.

#### GitHub Pages
1. Увімкніть GitHub Pages для гілки `gh-pages` → `GitHub Actions`.
2. Після пушу в `main` workflow автоматично викладе вміст папки `app/`.

### Настільна версія (Tkinter)
```bash
python -m venv .venv
.venv\Scripts\activate    # Windows
pip install numpy matplotlib
python Vaillant.py
```

## Структура репозиторію
- `app/` – статичний фронтенд (HTML/CSS/JS) та ресурси для GitHub Pages.
- `Vaillant.py` – настільна версія застосунку з Matplotlib-діаграмою.
- `run_server.py` – простий HTTP-сервер для локального перегляду `app/`.
- `.github/workflows/pages.yml` – безперервне розгортання на GitHub Pages.

## Математична модель
Базовий розрахунок температури подачі:
```text
T_flow = clamp(T_min, T_room + H_c(slope) · (T_room − T_out), T_max)
```
Функцію `H_c(slope)` апроксимовано лінійною інтерполяцією за реперними точками з офіційного графіка (20 °C у приміщенні):

| Нахил s | H_c(s) |
|---------|--------|
| 0.2     | 0.40   |
| 0.4     | 0.70   |
| 0.6     | 1.00   |
| 0.8     | 1.40   |
| 1.0     | 1.75   |
| 1.2     | 1.90   |
| 1.5     | 2.00   |
| 2.0     | 2.25   |
| 2.5     | 2.50   |
| 3.0     | 2.75   |
| 3.5     | 3.40   |
| 4.0     | 4.133  |
